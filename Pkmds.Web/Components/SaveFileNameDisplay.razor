@inherits BasePkmdsComponent
@implements IDisposable

@if (AppState.SaveFile is { Gender: 0 or 1 } saveFile)
{
    @Display(saveFile, saveFile.Gender)
}

@code {
    private RenderFragment Display(SaveFile saveFile, int gender) =>
    @<MudStack Row Spacing="1">
        <span>@saveFile.OT </span>
        <GenderDisplayComponent Gender="@((Gender)gender)" />
        <span>(@saveFile.DisplayTID.ToString(AppService.GetIdFormatString())</span>
        <span>, @FriendlyGameName(saveFile.Version)</span>
        <span>, @saveFile.PlayTimeString)</span>
    </MudStack>;

    protected override void OnInitialized() => RefreshService.OnAppStateChanged += StateHasChanged;

    public void Dispose() => RefreshService.OnAppStateChanged -= StateHasChanged;
}
