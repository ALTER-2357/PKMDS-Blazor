@if (AppState.SaveFile is not null && AppState.SelectedPokemon is { Species: > 0 })
{
    <h3>Pokémon Details</h3>

    <div>
        <MudButton OnClick="@AppState.ClearSelection"
                   ButtonType="@ButtonType.Button"
                   Variant="@Variant.Filled"
                   Color="@Color.Primary">
            Clear Selection
        </MudButton>

        <div>
            <label for="nickname">
                Nickname:
            </label>
            <span id="nickname">
                @AppState.SelectedPokemon.Nickname
            </span>
        </div>

        <div>
            <label for="speciesName">
                Species:
            </label>
            <span id="speciesName">
                @SpeciesName.GetSpeciesName(AppState.SelectedPokemon.Species, (int)LanguageID.English)
            </span>
        </div>

        <div>
            <label for="formName">
                Form:
            </label>
            <span id="formName">
                @{
                    var formId = AppState.SelectedPokemon.Form;
                    var strings = GameInfo.GetStrings("en-US");
                    var context = AppState.SaveFile.Context;
                    var forms = FormConverter.GetFormList(AppState.SelectedPokemon.Species, strings.Types, strings.forms, genderForms, context);
                    var formName = forms[formId];
                }
                @formName (@formId)
            </span>
        </div>

        <div>
            <label for="gender">
                Gender:
            </label>
            <span id="gender">
                @((Gender)AppState.SelectedPokemon.Gender switch
                {
                    Gender.Female => "Female",
                    Gender.Male => "Male",
                    _ => "Genderless",
                })
            </span>
        </div>

        <div>
            <label for="level">
                Level:
            </label>
            <span id="level">
                @AppState.SelectedPokemon.CurrentLevel
            </span>
        </div>

        <div>
            <label for="isShiny">
                Shiny:
            </label>
            <span id="isShiny">
                @(AppState.SelectedPokemon.IsShiny ? "Yes" : "No")
            </span>
        </div>

        <div>
            <label for="nature">
                Nature:
            </label>
            <span id="nature">
                @((Nature)AppState.SelectedPokemon.Nature)
            </span>
        </div>

        <div>
            <label for="moves">
                Moves:
            </label>
            <ul id="moves">
                @foreach (var move in AppState.SelectedPokemon.Moves.Select(m => (Move)m)
               .Where(MoveExtension.IsValidMove))
                {
                    <li>
                        @move
                    </li>
                }
            </ul>
        </div>

        <div>
            <span class="box-sprite @(SpriteHelper.GetPokemonSpriteCssClass(AppState.SelectedPokemon))">
            </span>
        </div>
    </div>
}
