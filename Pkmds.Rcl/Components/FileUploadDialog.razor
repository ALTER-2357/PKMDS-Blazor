<MudDialog>
    <DialogContent>
        <MudFileUpload T="IBrowserFile"
                       FilesChanged="HandleFile"
                       Accept=".sav,.bin">
            <ButtonTemplate>
                <MudButton HtmlTag="label"
                           Variant="@Variant.Filled"
                           Color="@Color.Primary"
                           for="@context">
                    Choose a save file
                </MudButton>
            </ButtonTemplate>
            <SelectedTemplate>
                @if (context != null)
                {
                    <MudText>
                        @context.Name
                    </MudText>
                }
                else
                {
                    <MudText>
                        No File
                    </MudText>
                }
            </SelectedTemplate>
        </MudFileUpload>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="@Cancel">
            Cancel
        </MudButton>
        <MudButton OnClick="@Ok">
            Ok
        </MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    private IBrowserFile? browserFile;

    private void HandleFile(IBrowserFile file) => browserFile = file;

    private void Cancel()
    {
        MudDialog.Close(DialogResult.Cancel());
    }

    private void Ok()
    {
        MudDialog.Close(DialogResult.Ok(browserFile));
    }
}
